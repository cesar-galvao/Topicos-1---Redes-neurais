"0","#| label: loss-function"
"0",""
"0","J.Loss <- function(dados, theta, target){"
"0","  "
"0","  if(!is.data.frame(dados) | !is_tibble(dados)){"
"0","    stop(""Dados deve ser uma dataframe ou tibble."")"
"0","  } else if (dim(dados)[2] != 2){"
"0","    stop(""Matriz de dados deve ter 2 colunas."")"
"0","  } else if (!is.list(theta)){"
"0","    stop(""Theta deve ser uma lista com pesos e viéses."")"
"0","  } else if (!is.numeric(target)){"
"0","    stop(""Target deve ser um vetor numérico."")"
"0","  }"
"0","  "
"0","# aloca memoria para o tamanho dos dados"
"0","  yhat <- double(nrow(dados))"
"0","# transpoe os dados para termos acesso aos vetores de x que serao passados para a primeira camada da rede"
"0","  tdados <- t(as.matrix(dados))"
"0","  "
"0","  for(i in 1:ncol(tdados)){"
"0","    yhat[i] <- ffwd(tdados[,i], theta)$yhat"
"0","  }"
"0","  "
"0","  return(mean((target - yhat)^2)) #média ja entrega soma/m"
"0","  "
"0","}"
